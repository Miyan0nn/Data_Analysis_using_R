{"cells":[{"source":"<a href=\"https://www.kaggle.com/code/victorzhang1999/ad-campaign-conversion-rate-optimization?scriptVersionId=136957245\" target=\"_blank\"><img align=\"left\" alt=\"Kaggle\" title=\"Open in Kaggle\" src=\"https://kaggle.com/static/images/open-in-kaggle.svg\"></a>","metadata":{},"cell_type":"markdown"},{"cell_type":"code","execution_count":1,"id":"91756897","metadata":{"_execution_state":"idle","_uuid":"051d70d956493feee0c6d64651c6a088724dca2a","execution":{"iopub.execute_input":"2023-07-16T17:22:37.171409Z","iopub.status.busy":"2023-07-16T17:22:37.169188Z","iopub.status.idle":"2023-07-16T17:22:38.425139Z","shell.execute_reply":"2023-07-16T17:22:38.422951Z"},"papermill":{"duration":1.264646,"end_time":"2023-07-16T17:22:38.427861","exception":false,"start_time":"2023-07-16T17:22:37.163215","status":"completed"},"tags":[]},"outputs":[{"name":"stderr","output_type":"stream","text":["── \u001b[1mAttaching core tidyverse packages\u001b[22m ──────────────────────── tidyverse 2.0.0 ──\n","\u001b[32m✔\u001b[39m \u001b[34mdplyr    \u001b[39m 1.1.0     \u001b[32m✔\u001b[39m \u001b[34mreadr    \u001b[39m 2.1.4\n","\u001b[32m✔\u001b[39m \u001b[34mforcats  \u001b[39m 1.0.0     \u001b[32m✔\u001b[39m \u001b[34mstringr  \u001b[39m 1.5.0\n","\u001b[32m✔\u001b[39m \u001b[34mggplot2  \u001b[39m 3.4.1     \u001b[32m✔\u001b[39m \u001b[34mtibble   \u001b[39m 3.1.8\n","\u001b[32m✔\u001b[39m \u001b[34mlubridate\u001b[39m 1.9.2     \u001b[32m✔\u001b[39m \u001b[34mtidyr    \u001b[39m 1.3.0\n","\u001b[32m✔\u001b[39m \u001b[34mpurrr    \u001b[39m 1.0.1     \n","── \u001b[1mConflicts\u001b[22m ────────────────────────────────────────── tidyverse_conflicts() ──\n","\u001b[31m✖\u001b[39m \u001b[34mdplyr\u001b[39m::\u001b[32mfilter()\u001b[39m masks \u001b[34mstats\u001b[39m::filter()\n","\u001b[31m✖\u001b[39m \u001b[34mdplyr\u001b[39m::\u001b[32mlag()\u001b[39m    masks \u001b[34mstats\u001b[39m::lag()\n","\u001b[36mℹ\u001b[39m Use the conflicted package (\u001b[3m\u001b[34m<http://conflicted.r-lib.org/>\u001b[39m\u001b[23m) to force all conflicts to become errors\n"]},{"data":{"text/html":["'clicks-conversion-tracking'"],"text/latex":["'clicks-conversion-tracking'"],"text/markdown":["'clicks-conversion-tracking'"],"text/plain":["[1] \"clicks-conversion-tracking\""]},"metadata":{},"output_type":"display_data"}],"source":["# This R environment comes with many helpful analytics packages installed\n","# It is defined by the kaggle/rstats Docker image: https://github.com/kaggle/docker-rstats\n","# For example, here's a helpful package to load\n","\n","library(tidyverse) # metapackage of all tidyverse packages\n","\n","# Input data files are available in the read-only \"../input/\" directory\n","# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n","\n","list.files(path = \"../input\")\n","\n","# You can write up to 20GB to the current directory (/kaggle/working/) that gets preserved as output when you create a version using \"Save & Run All\" \n","# You can also write temporary files to /kaggle/temp/, but they won't be saved outside of the current session"]},{"cell_type":"code","execution_count":2,"id":"93dab352","metadata":{"execution":{"iopub.execute_input":"2023-07-16T17:22:38.469723Z","iopub.status.busy":"2023-07-16T17:22:38.435969Z","iopub.status.idle":"2023-07-16T17:22:38.48135Z","shell.execute_reply":"2023-07-16T17:22:38.479388Z"},"papermill":{"duration":0.053432,"end_time":"2023-07-16T17:22:38.484531","exception":false,"start_time":"2023-07-16T17:22:38.431099","status":"completed"},"tags":[]},"outputs":[],"source":["# Exploratory Analysis"]},{"cell_type":"code","execution_count":3,"id":"4ec4861d","metadata":{"execution":{"iopub.execute_input":"2023-07-16T17:22:38.494633Z","iopub.status.busy":"2023-07-16T17:22:38.493071Z","iopub.status.idle":"2023-07-16T17:22:38.793029Z","shell.execute_reply":"2023-07-16T17:22:38.791233Z"},"papermill":{"duration":0.307488,"end_time":"2023-07-16T17:22:38.795448","exception":false,"start_time":"2023-07-16T17:22:38.48796","status":"completed"},"tags":[]},"outputs":[{"name":"stderr","output_type":"stream","text":["\u001b[1mRows: \u001b[22m\u001b[34m1143\u001b[39m \u001b[1mColumns: \u001b[22m\u001b[34m11\u001b[39m\n","\u001b[36m──\u001b[39m \u001b[1mColumn specification\u001b[22m \u001b[36m────────────────────────────────────────────────────────\u001b[39m\n","\u001b[1mDelimiter:\u001b[22m \",\"\n","\u001b[31mchr\u001b[39m (2): age, gender\n","\u001b[32mdbl\u001b[39m (9): ad_id, xyz_campaign_id, fb_campaign_id, interest, Impressions, Clic...\n","\n","\u001b[36mℹ\u001b[39m Use `spec()` to retrieve the full column specification for this data.\n","\u001b[36mℹ\u001b[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.\n"]}],"source":["ads <- read_csv(\"/kaggle/input/clicks-conversion-tracking/KAG_conversion_data.csv\")"]},{"cell_type":"code","execution_count":4,"id":"13ff49bf","metadata":{"execution":{"iopub.execute_input":"2023-07-16T17:22:38.80573Z","iopub.status.busy":"2023-07-16T17:22:38.804139Z","iopub.status.idle":"2023-07-16T17:22:38.938383Z","shell.execute_reply":"2023-07-16T17:22:38.936527Z"},"papermill":{"duration":0.142185,"end_time":"2023-07-16T17:22:38.941067","exception":false,"start_time":"2023-07-16T17:22:38.798882","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A spec_tbl_df: 1143 × 11</caption>\n","<thead>\n","\t<tr><th scope=col>ad_id</th><th scope=col>xyz_campaign_id</th><th scope=col>fb_campaign_id</th><th scope=col>age</th><th scope=col>gender</th><th scope=col>interest</th><th scope=col>Impressions</th><th scope=col>Clicks</th><th scope=col>Spent</th><th scope=col>Total_Conversion</th><th scope=col>Approved_Conversion</th></tr>\n","\t<tr><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><td>708746</td><td>916</td><td>103916</td><td>30-34</td><td>M</td><td>15</td><td> 7350</td><td>1</td><td> 1.43</td><td>2</td><td>1</td></tr>\n","\t<tr><td>708749</td><td>916</td><td>103917</td><td>30-34</td><td>M</td><td>16</td><td>17861</td><td>2</td><td> 1.82</td><td>2</td><td>0</td></tr>\n","\t<tr><td>708771</td><td>916</td><td>103920</td><td>30-34</td><td>M</td><td>20</td><td>  693</td><td>0</td><td> 0.00</td><td>1</td><td>0</td></tr>\n","\t<tr><td>708815</td><td>916</td><td>103928</td><td>30-34</td><td>M</td><td>28</td><td> 4259</td><td>1</td><td> 1.25</td><td>1</td><td>0</td></tr>\n","\t<tr><td>708818</td><td>916</td><td>103928</td><td>30-34</td><td>M</td><td>28</td><td> 4133</td><td>1</td><td> 1.29</td><td>1</td><td>1</td></tr>\n","\t<tr><td>708820</td><td>916</td><td>103929</td><td>30-34</td><td>M</td><td>29</td><td> 1915</td><td>0</td><td> 0.00</td><td>1</td><td>1</td></tr>\n","\t<tr><td>708889</td><td>916</td><td>103940</td><td>30-34</td><td>M</td><td>15</td><td>15615</td><td>3</td><td> 4.77</td><td>1</td><td>0</td></tr>\n","\t<tr><td>708895</td><td>916</td><td>103941</td><td>30-34</td><td>M</td><td>16</td><td>10951</td><td>1</td><td> 1.27</td><td>1</td><td>1</td></tr>\n","\t<tr><td>708953</td><td>916</td><td>103951</td><td>30-34</td><td>M</td><td>27</td><td> 2355</td><td>1</td><td> 1.50</td><td>1</td><td>0</td></tr>\n","\t<tr><td>708958</td><td>916</td><td>103952</td><td>30-34</td><td>M</td><td>28</td><td> 9502</td><td>3</td><td> 3.16</td><td>1</td><td>0</td></tr>\n","\t<tr><td>708979</td><td>916</td><td>103955</td><td>30-34</td><td>M</td><td>31</td><td> 1224</td><td>0</td><td> 0.00</td><td>1</td><td>0</td></tr>\n","\t<tr><td>709023</td><td>916</td><td>103962</td><td>30-34</td><td>M</td><td> 7</td><td>  735</td><td>0</td><td> 0.00</td><td>1</td><td>0</td></tr>\n","\t<tr><td>709038</td><td>916</td><td>103965</td><td>30-34</td><td>M</td><td>16</td><td> 5117</td><td>0</td><td> 0.00</td><td>1</td><td>0</td></tr>\n","\t<tr><td>709040</td><td>916</td><td>103965</td><td>30-34</td><td>M</td><td>16</td><td> 5120</td><td>0</td><td> 0.00</td><td>1</td><td>0</td></tr>\n","\t<tr><td>709059</td><td>916</td><td>103968</td><td>30-34</td><td>M</td><td>20</td><td>14669</td><td>7</td><td>10.28</td><td>1</td><td>1</td></tr>\n","\t<tr><td>709105</td><td>916</td><td>103976</td><td>30-34</td><td>M</td><td>28</td><td> 1241</td><td>0</td><td> 0.00</td><td>1</td><td>1</td></tr>\n","\t<tr><td>709115</td><td>916</td><td>103978</td><td>30-34</td><td>M</td><td>30</td><td> 2305</td><td>1</td><td> 0.57</td><td>1</td><td>0</td></tr>\n","\t<tr><td>709124</td><td>916</td><td>103979</td><td>30-34</td><td>M</td><td>31</td><td> 1024</td><td>0</td><td> 0.00</td><td>1</td><td>1</td></tr>\n","\t<tr><td>709179</td><td>916</td><td>103988</td><td>35-39</td><td>M</td><td>15</td><td> 4627</td><td>1</td><td> 1.69</td><td>1</td><td>0</td></tr>\n","\t<tr><td>709183</td><td>916</td><td>103989</td><td>35-39</td><td>M</td><td>16</td><td>21026</td><td>4</td><td> 4.63</td><td>2</td><td>1</td></tr>\n","\t<tr><td>709320</td><td>916</td><td>104012</td><td>35-39</td><td>M</td><td>15</td><td> 1422</td><td>0</td><td> 0.00</td><td>1</td><td>1</td></tr>\n","\t<tr><td>709323</td><td>916</td><td>104012</td><td>35-39</td><td>M</td><td>15</td><td> 7132</td><td>2</td><td> 2.61</td><td>1</td><td>0</td></tr>\n","\t<tr><td>709326</td><td>916</td><td>104013</td><td>35-39</td><td>M</td><td>16</td><td>12190</td><td>2</td><td> 3.05</td><td>1</td><td>0</td></tr>\n","\t<tr><td>709327</td><td>916</td><td>104013</td><td>35-39</td><td>M</td><td>16</td><td>12193</td><td>2</td><td> 3.06</td><td>1</td><td>1</td></tr>\n","\t<tr><td>709328</td><td>916</td><td>104013</td><td>35-39</td><td>M</td><td>16</td><td> 3332</td><td>0</td><td> 0.00</td><td>1</td><td>1</td></tr>\n","\t<tr><td>709455</td><td>916</td><td>104034</td><td>35-39</td><td>M</td><td> 7</td><td>  559</td><td>0</td><td> 0.00</td><td>1</td><td>0</td></tr>\n","\t<tr><td>709544</td><td>916</td><td>104049</td><td>35-39</td><td>M</td><td>29</td><td> 7440</td><td>2</td><td> 2.98</td><td>1</td><td>1</td></tr>\n","\t<tr><td>709614</td><td>916</td><td>104061</td><td>40-44</td><td>M</td><td>16</td><td>19113</td><td>4</td><td> 5.52</td><td>1</td><td>0</td></tr>\n","\t<tr><td>709756</td><td>916</td><td>104085</td><td>40-44</td><td>M</td><td>16</td><td>10976</td><td>2</td><td> 1.69</td><td>1</td><td>1</td></tr>\n","\t<tr><td>709761</td><td>916</td><td>104085</td><td>40-44</td><td>M</td><td>16</td><td> 2861</td><td>0</td><td> 0.00</td><td>1</td><td>0</td></tr>\n","\t<tr><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td></tr>\n","\t<tr><td>1314384</td><td>1178</td><td>179951</td><td>35-39</td><td>F</td><td>113</td><td> 441192</td><td> 53</td><td> 77.60</td><td> 6</td><td> 2</td></tr>\n","\t<tr><td>1314385</td><td>1178</td><td>179952</td><td>35-39</td><td>F</td><td>114</td><td>  90470</td><td> 11</td><td> 16.73</td><td> 1</td><td> 1</td></tr>\n","\t<tr><td>1314386</td><td>1178</td><td>179953</td><td>40-44</td><td>F</td><td>100</td><td> 834243</td><td>166</td><td>246.75</td><td>18</td><td> 7</td></tr>\n","\t<tr><td>1314387</td><td>1178</td><td>179954</td><td>40-44</td><td>F</td><td>101</td><td> 696612</td><td>152</td><td>223.19</td><td>31</td><td> 9</td></tr>\n","\t<tr><td>1314388</td><td>1178</td><td>179955</td><td>40-44</td><td>F</td><td>102</td><td> 329333</td><td> 48</td><td> 67.61</td><td> 1</td><td> 0</td></tr>\n","\t<tr><td>1314389</td><td>1178</td><td>179956</td><td>40-44</td><td>F</td><td>103</td><td>1114711</td><td>224</td><td>319.00</td><td> 6</td><td> 0</td></tr>\n","\t<tr><td>1314390</td><td>1178</td><td>179957</td><td>40-44</td><td>F</td><td>104</td><td> 267316</td><td> 58</td><td> 82.93</td><td> 3</td><td> 0</td></tr>\n","\t<tr><td>1314391</td><td>1178</td><td>179958</td><td>40-44</td><td>F</td><td>105</td><td> 228629</td><td> 38</td><td> 57.00</td><td> 2</td><td> 0</td></tr>\n","\t<tr><td>1314392</td><td>1178</td><td>179959</td><td>40-44</td><td>F</td><td>106</td><td> 758340</td><td>159</td><td>233.11</td><td>13</td><td> 4</td></tr>\n","\t<tr><td>1314393</td><td>1178</td><td>179960</td><td>40-44</td><td>F</td><td>107</td><td> 877535</td><td>149</td><td>217.78</td><td> 5</td><td> 2</td></tr>\n","\t<tr><td>1314394</td><td>1178</td><td>179961</td><td>40-44</td><td>F</td><td>108</td><td>1357386</td><td>223</td><td>323.06</td><td>10</td><td> 1</td></tr>\n","\t<tr><td>1314395</td><td>1178</td><td>179962</td><td>40-44</td><td>F</td><td>109</td><td> 280240</td><td> 61</td><td> 87.99</td><td> 2</td><td> 2</td></tr>\n","\t<tr><td>1314396</td><td>1178</td><td>179963</td><td>40-44</td><td>F</td><td>110</td><td> 419922</td><td> 75</td><td>105.45</td><td> 3</td><td> 1</td></tr>\n","\t<tr><td>1314397</td><td>1178</td><td>179964</td><td>40-44</td><td>F</td><td>111</td><td> 402975</td><td> 83</td><td>120.90</td><td> 1</td><td> 0</td></tr>\n","\t<tr><td>1314398</td><td>1178</td><td>179965</td><td>40-44</td><td>F</td><td>112</td><td>1137635</td><td>211</td><td>301.05</td><td>30</td><td>10</td></tr>\n","\t<tr><td>1314400</td><td>1178</td><td>179967</td><td>40-44</td><td>F</td><td>114</td><td> 250234</td><td> 40</td><td> 62.32</td><td> 4</td><td> 1</td></tr>\n","\t<tr><td>1314401</td><td>1178</td><td>179968</td><td>45-49</td><td>F</td><td>100</td><td> 904907</td><td>195</td><td>279.22</td><td>11</td><td> 1</td></tr>\n","\t<tr><td>1314402</td><td>1178</td><td>179969</td><td>45-49</td><td>F</td><td>101</td><td> 589270</td><td>107</td><td>158.05</td><td>10</td><td> 4</td></tr>\n","\t<tr><td>1314403</td><td>1178</td><td>179970</td><td>45-49</td><td>F</td><td>102</td><td> 168714</td><td> 24</td><td> 36.01</td><td> 2</td><td> 2</td></tr>\n","\t<tr><td>1314404</td><td>1178</td><td>179971</td><td>45-49</td><td>F</td><td>103</td><td>  71982</td><td> 11</td><td> 16.34</td><td> 1</td><td> 0</td></tr>\n","\t<tr><td>1314405</td><td>1178</td><td>179972</td><td>45-49</td><td>F</td><td>104</td><td> 558666</td><td>110</td><td>162.64</td><td>14</td><td> 5</td></tr>\n","\t<tr><td>1314406</td><td>1178</td><td>179973</td><td>45-49</td><td>F</td><td>105</td><td>1118200</td><td>235</td><td>333.75</td><td>11</td><td> 4</td></tr>\n","\t<tr><td>1314407</td><td>1178</td><td>179974</td><td>45-49</td><td>F</td><td>106</td><td> 107100</td><td> 23</td><td> 33.71</td><td> 1</td><td> 0</td></tr>\n","\t<tr><td>1314408</td><td>1178</td><td>179975</td><td>45-49</td><td>F</td><td>107</td><td> 877769</td><td>160</td><td>232.59</td><td>13</td><td> 4</td></tr>\n","\t<tr><td>1314409</td><td>1178</td><td>179976</td><td>45-49</td><td>F</td><td>108</td><td> 212508</td><td> 33</td><td> 47.69</td><td> 4</td><td> 1</td></tr>\n","\t<tr><td>1314410</td><td>1178</td><td>179977</td><td>45-49</td><td>F</td><td>109</td><td>1129773</td><td>252</td><td>358.19</td><td>13</td><td> 2</td></tr>\n","\t<tr><td>1314411</td><td>1178</td><td>179978</td><td>45-49</td><td>F</td><td>110</td><td> 637549</td><td>120</td><td>173.88</td><td> 3</td><td> 0</td></tr>\n","\t<tr><td>1314412</td><td>1178</td><td>179979</td><td>45-49</td><td>F</td><td>111</td><td> 151531</td><td> 28</td><td> 40.29</td><td> 2</td><td> 0</td></tr>\n","\t<tr><td>1314414</td><td>1178</td><td>179981</td><td>45-49</td><td>F</td><td>113</td><td> 790253</td><td>135</td><td>198.71</td><td> 8</td><td> 2</td></tr>\n","\t<tr><td>1314415</td><td>1178</td><td>179982</td><td>45-49</td><td>F</td><td>114</td><td> 513161</td><td>114</td><td>165.61</td><td> 5</td><td> 2</td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A spec\\_tbl\\_df: 1143 × 11\n","\\begin{tabular}{lllllllllll}\n"," ad\\_id & xyz\\_campaign\\_id & fb\\_campaign\\_id & age & gender & interest & Impressions & Clicks & Spent & Total\\_Conversion & Approved\\_Conversion\\\\\n"," <dbl> & <dbl> & <dbl> & <chr> & <chr> & <dbl> & <dbl> & <dbl> & <dbl> & <dbl> & <dbl>\\\\\n","\\hline\n","\t 708746 & 916 & 103916 & 30-34 & M & 15 &  7350 & 1 &  1.43 & 2 & 1\\\\\n","\t 708749 & 916 & 103917 & 30-34 & M & 16 & 17861 & 2 &  1.82 & 2 & 0\\\\\n","\t 708771 & 916 & 103920 & 30-34 & M & 20 &   693 & 0 &  0.00 & 1 & 0\\\\\n","\t 708815 & 916 & 103928 & 30-34 & M & 28 &  4259 & 1 &  1.25 & 1 & 0\\\\\n","\t 708818 & 916 & 103928 & 30-34 & M & 28 &  4133 & 1 &  1.29 & 1 & 1\\\\\n","\t 708820 & 916 & 103929 & 30-34 & M & 29 &  1915 & 0 &  0.00 & 1 & 1\\\\\n","\t 708889 & 916 & 103940 & 30-34 & M & 15 & 15615 & 3 &  4.77 & 1 & 0\\\\\n","\t 708895 & 916 & 103941 & 30-34 & M & 16 & 10951 & 1 &  1.27 & 1 & 1\\\\\n","\t 708953 & 916 & 103951 & 30-34 & M & 27 &  2355 & 1 &  1.50 & 1 & 0\\\\\n","\t 708958 & 916 & 103952 & 30-34 & M & 28 &  9502 & 3 &  3.16 & 1 & 0\\\\\n","\t 708979 & 916 & 103955 & 30-34 & M & 31 &  1224 & 0 &  0.00 & 1 & 0\\\\\n","\t 709023 & 916 & 103962 & 30-34 & M &  7 &   735 & 0 &  0.00 & 1 & 0\\\\\n","\t 709038 & 916 & 103965 & 30-34 & M & 16 &  5117 & 0 &  0.00 & 1 & 0\\\\\n","\t 709040 & 916 & 103965 & 30-34 & M & 16 &  5120 & 0 &  0.00 & 1 & 0\\\\\n","\t 709059 & 916 & 103968 & 30-34 & M & 20 & 14669 & 7 & 10.28 & 1 & 1\\\\\n","\t 709105 & 916 & 103976 & 30-34 & M & 28 &  1241 & 0 &  0.00 & 1 & 1\\\\\n","\t 709115 & 916 & 103978 & 30-34 & M & 30 &  2305 & 1 &  0.57 & 1 & 0\\\\\n","\t 709124 & 916 & 103979 & 30-34 & M & 31 &  1024 & 0 &  0.00 & 1 & 1\\\\\n","\t 709179 & 916 & 103988 & 35-39 & M & 15 &  4627 & 1 &  1.69 & 1 & 0\\\\\n","\t 709183 & 916 & 103989 & 35-39 & M & 16 & 21026 & 4 &  4.63 & 2 & 1\\\\\n","\t 709320 & 916 & 104012 & 35-39 & M & 15 &  1422 & 0 &  0.00 & 1 & 1\\\\\n","\t 709323 & 916 & 104012 & 35-39 & M & 15 &  7132 & 2 &  2.61 & 1 & 0\\\\\n","\t 709326 & 916 & 104013 & 35-39 & M & 16 & 12190 & 2 &  3.05 & 1 & 0\\\\\n","\t 709327 & 916 & 104013 & 35-39 & M & 16 & 12193 & 2 &  3.06 & 1 & 1\\\\\n","\t 709328 & 916 & 104013 & 35-39 & M & 16 &  3332 & 0 &  0.00 & 1 & 1\\\\\n","\t 709455 & 916 & 104034 & 35-39 & M &  7 &   559 & 0 &  0.00 & 1 & 0\\\\\n","\t 709544 & 916 & 104049 & 35-39 & M & 29 &  7440 & 2 &  2.98 & 1 & 1\\\\\n","\t 709614 & 916 & 104061 & 40-44 & M & 16 & 19113 & 4 &  5.52 & 1 & 0\\\\\n","\t 709756 & 916 & 104085 & 40-44 & M & 16 & 10976 & 2 &  1.69 & 1 & 1\\\\\n","\t 709761 & 916 & 104085 & 40-44 & M & 16 &  2861 & 0 &  0.00 & 1 & 0\\\\\n","\t ⋮ & ⋮ & ⋮ & ⋮ & ⋮ & ⋮ & ⋮ & ⋮ & ⋮ & ⋮ & ⋮\\\\\n","\t 1314384 & 1178 & 179951 & 35-39 & F & 113 &  441192 &  53 &  77.60 &  6 &  2\\\\\n","\t 1314385 & 1178 & 179952 & 35-39 & F & 114 &   90470 &  11 &  16.73 &  1 &  1\\\\\n","\t 1314386 & 1178 & 179953 & 40-44 & F & 100 &  834243 & 166 & 246.75 & 18 &  7\\\\\n","\t 1314387 & 1178 & 179954 & 40-44 & F & 101 &  696612 & 152 & 223.19 & 31 &  9\\\\\n","\t 1314388 & 1178 & 179955 & 40-44 & F & 102 &  329333 &  48 &  67.61 &  1 &  0\\\\\n","\t 1314389 & 1178 & 179956 & 40-44 & F & 103 & 1114711 & 224 & 319.00 &  6 &  0\\\\\n","\t 1314390 & 1178 & 179957 & 40-44 & F & 104 &  267316 &  58 &  82.93 &  3 &  0\\\\\n","\t 1314391 & 1178 & 179958 & 40-44 & F & 105 &  228629 &  38 &  57.00 &  2 &  0\\\\\n","\t 1314392 & 1178 & 179959 & 40-44 & F & 106 &  758340 & 159 & 233.11 & 13 &  4\\\\\n","\t 1314393 & 1178 & 179960 & 40-44 & F & 107 &  877535 & 149 & 217.78 &  5 &  2\\\\\n","\t 1314394 & 1178 & 179961 & 40-44 & F & 108 & 1357386 & 223 & 323.06 & 10 &  1\\\\\n","\t 1314395 & 1178 & 179962 & 40-44 & F & 109 &  280240 &  61 &  87.99 &  2 &  2\\\\\n","\t 1314396 & 1178 & 179963 & 40-44 & F & 110 &  419922 &  75 & 105.45 &  3 &  1\\\\\n","\t 1314397 & 1178 & 179964 & 40-44 & F & 111 &  402975 &  83 & 120.90 &  1 &  0\\\\\n","\t 1314398 & 1178 & 179965 & 40-44 & F & 112 & 1137635 & 211 & 301.05 & 30 & 10\\\\\n","\t 1314400 & 1178 & 179967 & 40-44 & F & 114 &  250234 &  40 &  62.32 &  4 &  1\\\\\n","\t 1314401 & 1178 & 179968 & 45-49 & F & 100 &  904907 & 195 & 279.22 & 11 &  1\\\\\n","\t 1314402 & 1178 & 179969 & 45-49 & F & 101 &  589270 & 107 & 158.05 & 10 &  4\\\\\n","\t 1314403 & 1178 & 179970 & 45-49 & F & 102 &  168714 &  24 &  36.01 &  2 &  2\\\\\n","\t 1314404 & 1178 & 179971 & 45-49 & F & 103 &   71982 &  11 &  16.34 &  1 &  0\\\\\n","\t 1314405 & 1178 & 179972 & 45-49 & F & 104 &  558666 & 110 & 162.64 & 14 &  5\\\\\n","\t 1314406 & 1178 & 179973 & 45-49 & F & 105 & 1118200 & 235 & 333.75 & 11 &  4\\\\\n","\t 1314407 & 1178 & 179974 & 45-49 & F & 106 &  107100 &  23 &  33.71 &  1 &  0\\\\\n","\t 1314408 & 1178 & 179975 & 45-49 & F & 107 &  877769 & 160 & 232.59 & 13 &  4\\\\\n","\t 1314409 & 1178 & 179976 & 45-49 & F & 108 &  212508 &  33 &  47.69 &  4 &  1\\\\\n","\t 1314410 & 1178 & 179977 & 45-49 & F & 109 & 1129773 & 252 & 358.19 & 13 &  2\\\\\n","\t 1314411 & 1178 & 179978 & 45-49 & F & 110 &  637549 & 120 & 173.88 &  3 &  0\\\\\n","\t 1314412 & 1178 & 179979 & 45-49 & F & 111 &  151531 &  28 &  40.29 &  2 &  0\\\\\n","\t 1314414 & 1178 & 179981 & 45-49 & F & 113 &  790253 & 135 & 198.71 &  8 &  2\\\\\n","\t 1314415 & 1178 & 179982 & 45-49 & F & 114 &  513161 & 114 & 165.61 &  5 &  2\\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A spec_tbl_df: 1143 × 11\n","\n","| ad_id &lt;dbl&gt; | xyz_campaign_id &lt;dbl&gt; | fb_campaign_id &lt;dbl&gt; | age &lt;chr&gt; | gender &lt;chr&gt; | interest &lt;dbl&gt; | Impressions &lt;dbl&gt; | Clicks &lt;dbl&gt; | Spent &lt;dbl&gt; | Total_Conversion &lt;dbl&gt; | Approved_Conversion &lt;dbl&gt; |\n","|---|---|---|---|---|---|---|---|---|---|---|\n","| 708746 | 916 | 103916 | 30-34 | M | 15 |  7350 | 1 |  1.43 | 2 | 1 |\n","| 708749 | 916 | 103917 | 30-34 | M | 16 | 17861 | 2 |  1.82 | 2 | 0 |\n","| 708771 | 916 | 103920 | 30-34 | M | 20 |   693 | 0 |  0.00 | 1 | 0 |\n","| 708815 | 916 | 103928 | 30-34 | M | 28 |  4259 | 1 |  1.25 | 1 | 0 |\n","| 708818 | 916 | 103928 | 30-34 | M | 28 |  4133 | 1 |  1.29 | 1 | 1 |\n","| 708820 | 916 | 103929 | 30-34 | M | 29 |  1915 | 0 |  0.00 | 1 | 1 |\n","| 708889 | 916 | 103940 | 30-34 | M | 15 | 15615 | 3 |  4.77 | 1 | 0 |\n","| 708895 | 916 | 103941 | 30-34 | M | 16 | 10951 | 1 |  1.27 | 1 | 1 |\n","| 708953 | 916 | 103951 | 30-34 | M | 27 |  2355 | 1 |  1.50 | 1 | 0 |\n","| 708958 | 916 | 103952 | 30-34 | M | 28 |  9502 | 3 |  3.16 | 1 | 0 |\n","| 708979 | 916 | 103955 | 30-34 | M | 31 |  1224 | 0 |  0.00 | 1 | 0 |\n","| 709023 | 916 | 103962 | 30-34 | M |  7 |   735 | 0 |  0.00 | 1 | 0 |\n","| 709038 | 916 | 103965 | 30-34 | M | 16 |  5117 | 0 |  0.00 | 1 | 0 |\n","| 709040 | 916 | 103965 | 30-34 | M | 16 |  5120 | 0 |  0.00 | 1 | 0 |\n","| 709059 | 916 | 103968 | 30-34 | M | 20 | 14669 | 7 | 10.28 | 1 | 1 |\n","| 709105 | 916 | 103976 | 30-34 | M | 28 |  1241 | 0 |  0.00 | 1 | 1 |\n","| 709115 | 916 | 103978 | 30-34 | M | 30 |  2305 | 1 |  0.57 | 1 | 0 |\n","| 709124 | 916 | 103979 | 30-34 | M | 31 |  1024 | 0 |  0.00 | 1 | 1 |\n","| 709179 | 916 | 103988 | 35-39 | M | 15 |  4627 | 1 |  1.69 | 1 | 0 |\n","| 709183 | 916 | 103989 | 35-39 | M | 16 | 21026 | 4 |  4.63 | 2 | 1 |\n","| 709320 | 916 | 104012 | 35-39 | M | 15 |  1422 | 0 |  0.00 | 1 | 1 |\n","| 709323 | 916 | 104012 | 35-39 | M | 15 |  7132 | 2 |  2.61 | 1 | 0 |\n","| 709326 | 916 | 104013 | 35-39 | M | 16 | 12190 | 2 |  3.05 | 1 | 0 |\n","| 709327 | 916 | 104013 | 35-39 | M | 16 | 12193 | 2 |  3.06 | 1 | 1 |\n","| 709328 | 916 | 104013 | 35-39 | M | 16 |  3332 | 0 |  0.00 | 1 | 1 |\n","| 709455 | 916 | 104034 | 35-39 | M |  7 |   559 | 0 |  0.00 | 1 | 0 |\n","| 709544 | 916 | 104049 | 35-39 | M | 29 |  7440 | 2 |  2.98 | 1 | 1 |\n","| 709614 | 916 | 104061 | 40-44 | M | 16 | 19113 | 4 |  5.52 | 1 | 0 |\n","| 709756 | 916 | 104085 | 40-44 | M | 16 | 10976 | 2 |  1.69 | 1 | 1 |\n","| 709761 | 916 | 104085 | 40-44 | M | 16 |  2861 | 0 |  0.00 | 1 | 0 |\n","| ⋮ | ⋮ | ⋮ | ⋮ | ⋮ | ⋮ | ⋮ | ⋮ | ⋮ | ⋮ | ⋮ |\n","| 1314384 | 1178 | 179951 | 35-39 | F | 113 |  441192 |  53 |  77.60 |  6 |  2 |\n","| 1314385 | 1178 | 179952 | 35-39 | F | 114 |   90470 |  11 |  16.73 |  1 |  1 |\n","| 1314386 | 1178 | 179953 | 40-44 | F | 100 |  834243 | 166 | 246.75 | 18 |  7 |\n","| 1314387 | 1178 | 179954 | 40-44 | F | 101 |  696612 | 152 | 223.19 | 31 |  9 |\n","| 1314388 | 1178 | 179955 | 40-44 | F | 102 |  329333 |  48 |  67.61 |  1 |  0 |\n","| 1314389 | 1178 | 179956 | 40-44 | F | 103 | 1114711 | 224 | 319.00 |  6 |  0 |\n","| 1314390 | 1178 | 179957 | 40-44 | F | 104 |  267316 |  58 |  82.93 |  3 |  0 |\n","| 1314391 | 1178 | 179958 | 40-44 | F | 105 |  228629 |  38 |  57.00 |  2 |  0 |\n","| 1314392 | 1178 | 179959 | 40-44 | F | 106 |  758340 | 159 | 233.11 | 13 |  4 |\n","| 1314393 | 1178 | 179960 | 40-44 | F | 107 |  877535 | 149 | 217.78 |  5 |  2 |\n","| 1314394 | 1178 | 179961 | 40-44 | F | 108 | 1357386 | 223 | 323.06 | 10 |  1 |\n","| 1314395 | 1178 | 179962 | 40-44 | F | 109 |  280240 |  61 |  87.99 |  2 |  2 |\n","| 1314396 | 1178 | 179963 | 40-44 | F | 110 |  419922 |  75 | 105.45 |  3 |  1 |\n","| 1314397 | 1178 | 179964 | 40-44 | F | 111 |  402975 |  83 | 120.90 |  1 |  0 |\n","| 1314398 | 1178 | 179965 | 40-44 | F | 112 | 1137635 | 211 | 301.05 | 30 | 10 |\n","| 1314400 | 1178 | 179967 | 40-44 | F | 114 |  250234 |  40 |  62.32 |  4 |  1 |\n","| 1314401 | 1178 | 179968 | 45-49 | F | 100 |  904907 | 195 | 279.22 | 11 |  1 |\n","| 1314402 | 1178 | 179969 | 45-49 | F | 101 |  589270 | 107 | 158.05 | 10 |  4 |\n","| 1314403 | 1178 | 179970 | 45-49 | F | 102 |  168714 |  24 |  36.01 |  2 |  2 |\n","| 1314404 | 1178 | 179971 | 45-49 | F | 103 |   71982 |  11 |  16.34 |  1 |  0 |\n","| 1314405 | 1178 | 179972 | 45-49 | F | 104 |  558666 | 110 | 162.64 | 14 |  5 |\n","| 1314406 | 1178 | 179973 | 45-49 | F | 105 | 1118200 | 235 | 333.75 | 11 |  4 |\n","| 1314407 | 1178 | 179974 | 45-49 | F | 106 |  107100 |  23 |  33.71 |  1 |  0 |\n","| 1314408 | 1178 | 179975 | 45-49 | F | 107 |  877769 | 160 | 232.59 | 13 |  4 |\n","| 1314409 | 1178 | 179976 | 45-49 | F | 108 |  212508 |  33 |  47.69 |  4 |  1 |\n","| 1314410 | 1178 | 179977 | 45-49 | F | 109 | 1129773 | 252 | 358.19 | 13 |  2 |\n","| 1314411 | 1178 | 179978 | 45-49 | F | 110 |  637549 | 120 | 173.88 |  3 |  0 |\n","| 1314412 | 1178 | 179979 | 45-49 | F | 111 |  151531 |  28 |  40.29 |  2 |  0 |\n","| 1314414 | 1178 | 179981 | 45-49 | F | 113 |  790253 | 135 | 198.71 |  8 |  2 |\n","| 1314415 | 1178 | 179982 | 45-49 | F | 114 |  513161 | 114 | 165.61 |  5 |  2 |\n","\n"],"text/plain":["     ad_id   xyz_campaign_id fb_campaign_id age   gender interest Impressions\n","1    708746  916             103916         30-34 M      15        7350      \n","2    708749  916             103917         30-34 M      16       17861      \n","3    708771  916             103920         30-34 M      20         693      \n","4    708815  916             103928         30-34 M      28        4259      \n","5    708818  916             103928         30-34 M      28        4133      \n","6    708820  916             103929         30-34 M      29        1915      \n","7    708889  916             103940         30-34 M      15       15615      \n","8    708895  916             103941         30-34 M      16       10951      \n","9    708953  916             103951         30-34 M      27        2355      \n","10   708958  916             103952         30-34 M      28        9502      \n","11   708979  916             103955         30-34 M      31        1224      \n","12   709023  916             103962         30-34 M       7         735      \n","13   709038  916             103965         30-34 M      16        5117      \n","14   709040  916             103965         30-34 M      16        5120      \n","15   709059  916             103968         30-34 M      20       14669      \n","16   709105  916             103976         30-34 M      28        1241      \n","17   709115  916             103978         30-34 M      30        2305      \n","18   709124  916             103979         30-34 M      31        1024      \n","19   709179  916             103988         35-39 M      15        4627      \n","20   709183  916             103989         35-39 M      16       21026      \n","21   709320  916             104012         35-39 M      15        1422      \n","22   709323  916             104012         35-39 M      15        7132      \n","23   709326  916             104013         35-39 M      16       12190      \n","24   709327  916             104013         35-39 M      16       12193      \n","25   709328  916             104013         35-39 M      16        3332      \n","26   709455  916             104034         35-39 M       7         559      \n","27   709544  916             104049         35-39 M      29        7440      \n","28   709614  916             104061         40-44 M      16       19113      \n","29   709756  916             104085         40-44 M      16       10976      \n","30   709761  916             104085         40-44 M      16        2861      \n","⋮    ⋮       ⋮               ⋮              ⋮     ⋮      ⋮        ⋮          \n","1114 1314384 1178            179951         35-39 F      113       441192    \n","1115 1314385 1178            179952         35-39 F      114        90470    \n","1116 1314386 1178            179953         40-44 F      100       834243    \n","1117 1314387 1178            179954         40-44 F      101       696612    \n","1118 1314388 1178            179955         40-44 F      102       329333    \n","1119 1314389 1178            179956         40-44 F      103      1114711    \n","1120 1314390 1178            179957         40-44 F      104       267316    \n","1121 1314391 1178            179958         40-44 F      105       228629    \n","1122 1314392 1178            179959         40-44 F      106       758340    \n","1123 1314393 1178            179960         40-44 F      107       877535    \n","1124 1314394 1178            179961         40-44 F      108      1357386    \n","1125 1314395 1178            179962         40-44 F      109       280240    \n","1126 1314396 1178            179963         40-44 F      110       419922    \n","1127 1314397 1178            179964         40-44 F      111       402975    \n","1128 1314398 1178            179965         40-44 F      112      1137635    \n","1129 1314400 1178            179967         40-44 F      114       250234    \n","1130 1314401 1178            179968         45-49 F      100       904907    \n","1131 1314402 1178            179969         45-49 F      101       589270    \n","1132 1314403 1178            179970         45-49 F      102       168714    \n","1133 1314404 1178            179971         45-49 F      103        71982    \n","1134 1314405 1178            179972         45-49 F      104       558666    \n","1135 1314406 1178            179973         45-49 F      105      1118200    \n","1136 1314407 1178            179974         45-49 F      106       107100    \n","1137 1314408 1178            179975         45-49 F      107       877769    \n","1138 1314409 1178            179976         45-49 F      108       212508    \n","1139 1314410 1178            179977         45-49 F      109      1129773    \n","1140 1314411 1178            179978         45-49 F      110       637549    \n","1141 1314412 1178            179979         45-49 F      111       151531    \n","1142 1314414 1178            179981         45-49 F      113       790253    \n","1143 1314415 1178            179982         45-49 F      114       513161    \n","     Clicks Spent  Total_Conversion Approved_Conversion\n","1    1       1.43  2                1                  \n","2    2       1.82  2                0                  \n","3    0       0.00  1                0                  \n","4    1       1.25  1                0                  \n","5    1       1.29  1                1                  \n","6    0       0.00  1                1                  \n","7    3       4.77  1                0                  \n","8    1       1.27  1                1                  \n","9    1       1.50  1                0                  \n","10   3       3.16  1                0                  \n","11   0       0.00  1                0                  \n","12   0       0.00  1                0                  \n","13   0       0.00  1                0                  \n","14   0       0.00  1                0                  \n","15   7      10.28  1                1                  \n","16   0       0.00  1                1                  \n","17   1       0.57  1                0                  \n","18   0       0.00  1                1                  \n","19   1       1.69  1                0                  \n","20   4       4.63  2                1                  \n","21   0       0.00  1                1                  \n","22   2       2.61  1                0                  \n","23   2       3.05  1                0                  \n","24   2       3.06  1                1                  \n","25   0       0.00  1                1                  \n","26   0       0.00  1                0                  \n","27   2       2.98  1                1                  \n","28   4       5.52  1                0                  \n","29   2       1.69  1                1                  \n","30   0       0.00  1                0                  \n","⋮    ⋮      ⋮      ⋮                ⋮                  \n","1114  53     77.60  6                2                 \n","1115  11     16.73  1                1                 \n","1116 166    246.75 18                7                 \n","1117 152    223.19 31                9                 \n","1118  48     67.61  1                0                 \n","1119 224    319.00  6                0                 \n","1120  58     82.93  3                0                 \n","1121  38     57.00  2                0                 \n","1122 159    233.11 13                4                 \n","1123 149    217.78  5                2                 \n","1124 223    323.06 10                1                 \n","1125  61     87.99  2                2                 \n","1126  75    105.45  3                1                 \n","1127  83    120.90  1                0                 \n","1128 211    301.05 30               10                 \n","1129  40     62.32  4                1                 \n","1130 195    279.22 11                1                 \n","1131 107    158.05 10                4                 \n","1132  24     36.01  2                2                 \n","1133  11     16.34  1                0                 \n","1134 110    162.64 14                5                 \n","1135 235    333.75 11                4                 \n","1136  23     33.71  1                0                 \n","1137 160    232.59 13                4                 \n","1138  33     47.69  4                1                 \n","1139 252    358.19 13                2                 \n","1140 120    173.88  3                0                 \n","1141  28     40.29  2                0                 \n","1142 135    198.71  8                2                 \n","1143 114    165.61  5                2                 "]},"metadata":{},"output_type":"display_data"}],"source":["ads"]},{"cell_type":"code","execution_count":5,"id":"b5787172","metadata":{"execution":{"iopub.execute_input":"2023-07-16T17:22:38.953394Z","iopub.status.busy":"2023-07-16T17:22:38.951693Z","iopub.status.idle":"2023-07-16T17:23:39.185282Z","shell.execute_reply":"2023-07-16T17:23:39.182922Z"},"papermill":{"duration":60.243405,"end_time":"2023-07-16T17:23:39.188873","exception":false,"start_time":"2023-07-16T17:22:38.945468","status":"completed"},"tags":[]},"outputs":[{"name":"stderr","output_type":"stream","text":["Installing package into ‘/usr/local/lib/R/site-library’\n","(as ‘lib’ is unspecified)\n","\n","Warning message:\n","“unable to access index for repository http://cran.rstudio.com/src/contrib:\n","  cannot open URL 'http://cran.rstudio.com/src/contrib/PACKAGES'”\n","Warning message:\n","“package ‘dplyr’ is not available for this version of R\n","\n","A version of this package for your version of R might be available elsewhere,\n","see the ideas at\n","https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages”\n"]}],"source":["install.packages(\"dplyr\")\n","library(dplyr)"]},{"cell_type":"code","execution_count":null,"id":"7cd3b6eb","metadata":{"papermill":{"duration":0.004583,"end_time":"2023-07-16T17:23:39.200266","exception":false,"start_time":"2023-07-16T17:23:39.195683","status":"completed"},"tags":[]},"outputs":[],"source":[]}],"metadata":{"kernelspec":{"display_name":"R","language":"R","name":"ir"},"language_info":{"codemirror_mode":"r","file_extension":".r","mimetype":"text/x-r-source","name":"R","pygments_lexer":"r","version":"4.0.5"},"papermill":{"default_parameters":{},"duration":65.678734,"end_time":"2023-07-16T17:23:39.329265","environment_variables":{},"exception":null,"input_path":"__notebook__.ipynb","output_path":"__notebook__.ipynb","parameters":{},"start_time":"2023-07-16T17:22:33.650531","version":"2.4.0"}},"nbformat":4,"nbformat_minor":5}